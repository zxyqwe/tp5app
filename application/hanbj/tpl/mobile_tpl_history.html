<div class="page">
    <div class="page__hd">
        <h1 class="page__title">任职履历</h1>
    </div>
    <div class="page__bd page__bd_spacing" id="vmain">
        <div class="weui-panel__bd" v-for="i in hist">
            <a href="javascript:" class="weui-media-box weui-media-box_appmsg">
                <div class="weui-media-box__hd">
                    <img class="weui-media-box__thumb" v-bind:src="{ trans(i.level) }" alt="">
                </div>
                <div class="weui-media-box__bd">
                    <h4 class="weui-media-box__title">{{ trans2(i.level) }}</h4>
                    <p class="weui-media-box__desc">第{{ i.year }}届 i.label</p>
                </div>
            </a>
        </div>
    </div>
    <div class="page__ft">
    </div>
</div>
<script type="text/javascript">
    var wx_hist = (function ($, Vue, w, undefined) {
        'use strict';
        var vmain, history = [];
        var vue_init = function () {
            vmain = new Vue({
                el: '#vmain',
                data: {
                    hist: history
                },
                methods: {
                    trans: function (l) {
                    },
                    trans2: function (l) {
                    }
                }
            });
        };
        var init = function () {
            w.waitloading();
            $.ajax({
                type: "GET",
                url: w.u15,
                dataType: "json",
                success: function (msg) {
                    history = msg.hist;
                    vue_init();
                },
                error: function (msg) {
                    w.msgto(msg);
                },
                complete: function () {
                    w.cancelloading();
                }
            });
        };
        return {
            init: init
        };
    })(Zepto, Vue, window);
    wx_hist.init();
</script>